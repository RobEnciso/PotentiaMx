# ğŸ“§ DEMO: Sistema de Contacto Condicional

## ğŸ¬ VisualizaciÃ³n de la ImplementaciÃ³n

### Escenario 1: Terreno de Desarrollo (contact_type: 'formal')

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—ï¸ Tour 360Â° - Terreno Comercial 5000mÂ²   â”‚
â”‚                                             â”‚
â”‚    [Visor 360Â° con hotspots]               â”‚
â”‚                                             â”‚
â”‚                                             â”‚
â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                           â”‚  ğŸ“§       â”‚ â†â”€â”€ BotÃ³n flotante Ãºnico
â”‚                           â”‚  Email    â”‚    (esquina inferior derecha)
â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Al hacer clic en ğŸ“§:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“§ Solicitar InformaciÃ³n           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                     â”‚
â”‚  Nombre completo *                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Juan PÃ©rez                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  Correo electrÃ³nico *               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ juan@empresa.com            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  TelÃ©fono                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 322 123 4567                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  Mensaje (opcional)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Me gustarÃ­a recibir mÃ¡s     â”‚   â”‚
â”‚  â”‚ informaciÃ³n sobre este...   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  [Cancelar]  [ğŸ“§ Enviar Solicitud] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**âœ… Resultado:**

- Email enviado a: `desarrollo@inmobiliaria.com`
- Lead capturado con datos completos
- ConfirmaciÃ³n visual: "âœ… Â¡Mensaje Enviado!"

---

### Escenario 2: Casa Residencial (contact_type: 'casual')

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¡ Tour 360Â° - Casa 3 RecÃ¡maras            â”‚
â”‚                                             â”‚
â”‚    [Visor 360Â° con hotspots]               â”‚
â”‚                                             â”‚
â”‚                                             â”‚
â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                           â”‚  ğŸ’¬       â”‚ â†â”€â”€ BotÃ³n WhatsApp
â”‚                           â”‚  Chat     â”‚    (esquina inferior derecha)
â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Al hacer clic en ğŸ’¬:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         WhatsApp Web/App                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  ğŸ“± Roberto (Agente)                    â”‚
â”‚                                         â”‚
â”‚  TÃº:                                    â”‚
â”‚  Hola, me interesa la propiedad:       â”‚
â”‚  Casa 3 RecÃ¡maras                       â”‚
â”‚                                         â”‚
â”‚  [Escribe un mensaje...]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**âœ… Resultado:**

- Chat abierto con mensaje pre-llenado
- Contacto inmediato por WhatsApp
- ConversaciÃ³n fluida con el agente

---

### Escenario 3: Propiedad VersÃ¡til (contact_type: 'both')

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¢ Tour 360Â° - Lote Residencial/Comercial      â”‚
â”‚                                                 â”‚
â”‚    [Visor 360Â° con hotspots]                   â”‚
â”‚                                                 â”‚
â”‚                                                 â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                  â”‚ ğŸ’¬       â”‚ â”‚  ğŸ“§      â”‚ â†â”€â”€ Dos botones
â”‚                  â”‚ WhatsApp â”‚ â”‚  Email   â”‚    (lado a lado)
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**âœ… Resultado:**

- Usuario elige su mÃ©todo preferido
- MÃ¡xima flexibilidad de contacto
- Aumenta tasa de conversiÃ³n

---

## ğŸ¨ Detalles de DiseÃ±o

### BotÃ³n Flotante de Email

```
Color: Gradiente Teal/Cyan (#14b8a6 â†’ #0891b2)
TamaÃ±o: 60px Ã— 60px
Sombra: 0 4px 20px rgba(20, 184, 166, 0.4)
Hover: Scale 1.1 + Sombra mÃ¡s fuerte
Ãcono: ğŸ“§ SVG de sobre
```

### BotÃ³n Flotante de WhatsApp

```
Color: Verde WhatsApp (#25D366)
TamaÃ±o: 60px Ã— 60px
Sombra: 0 4px 20px rgba(37, 211, 102, 0.4)
Hover: Scale 1.1 + Sombra mÃ¡s fuerte
Ãcono: SVG logo oficial de WhatsApp
```

### Modal de Formulario

```
Ancho: max-width 28rem (448px)
Header: Gradiente teal/cyan con tÃ­tulo
Body: Fondo blanco, campos con focus ring teal
Footer: Dos botones (Cancelar gris / Enviar teal)
AnimaciÃ³n: Fade in + backdrop blur
```

---

## ğŸ”„ Flujo de Datos

```
Usuario ve tour â†’ Click en botÃ³n contacto
                         â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                               â”‚
    [Formal]                         [Casual]
         â”‚                               â”‚
         â†“                               â†“
   Abre Modal                    Abre WhatsApp
   Llena Formulario              EnvÃ­a mensaje
         â†“                               â†“
   POST /api/contact             ConversaciÃ³n directa
         â†“
   Email a contact_email
   + Log en consola
   + (Opcional) Guardar en BD
         â†“
   âœ… ConfirmaciÃ³n visual
```

---

## ğŸ“Š ComparaciÃ³n de MÃ©todos

| CaracterÃ­stica         | Formulario (formal)         | WhatsApp (casual)           |
| ---------------------- | --------------------------- | --------------------------- |
| **Velocidad**          | Media (formulario)          | Inmediata (click)           |
| **Datos capturados**   | Nombre, Email, Tel, Mensaje | Solo inicio de conversaciÃ³n |
| **Profesionalismo**    | â­â­â­â­â­ Alto             | â­â­â­ Medio                |
| **Tasa de conversiÃ³n** | â­â­â­ Media                | â­â­â­â­ Alta               |
| **Uso recomendado**    | Inversionistas, empresas    | Compradores individuales    |
| **Seguimiento**        | Email + BD                  | WhatsApp Business           |

---

## ğŸ§ª Prueba del Sistema

**Paso 1:** Ejecuta la migraciÃ³n SQL en Supabase

**Paso 2:** Actualiza un terreno:

```sql
-- Cambiar a modo formal
UPDATE terrenos
SET contact_type = 'formal',
    contact_email = 'tu@email.com'
WHERE id = 'tu-terreno-id';
```

**Paso 3:** Abre el visor:

```
http://localhost:3001/terreno/tu-terreno-id
```

**Paso 4:** Verifica:

- âœ… Aparece botÃ³n ğŸ“§ flotante (no WhatsApp)
- âœ… Click abre modal de formulario
- âœ… Formulario envÃ­a datos
- âœ… ConfirmaciÃ³n "Â¡Mensaje Enviado!"
- âœ… Consola muestra: "ğŸ“§ Nueva solicitud de contacto:"

**Paso 5:** Cambia a casual:

```sql
UPDATE terrenos
SET contact_type = 'casual',
    contact_phone = '5213221234567',
    contact_email = NULL
WHERE id = 'tu-terreno-id';
```

**Paso 6:** Recarga y verifica:

- âœ… Aparece botÃ³n ğŸ’¬ WhatsApp (no email)
- âœ… Click abre WhatsApp con mensaje
- âœ… NÃºmero correcto en URL

**Paso 7:** Cambia a both y verifica ambos aparecen

---

## ğŸ¯ PrÃ³ximos Pasos

1. **Actualizar formularios del dashboard** (crear/editar terreno)
   - Agregar campo `contact_type` (radio buttons)
   - Agregar campo `contact_email` (input)
   - Agregar campo `contact_phone` (input)

2. **Integrar servicio de email real**
   - Resend o SendGrid
   - Templates HTML profesionales
   - Auto-respuesta al lead

3. **Analytics**
   - Trackear quÃ© mÃ©todo se usa mÃ¡s
   - ConversiÃ³n por tipo de contacto
   - A/B testing

---

**âœ¨ Sistema completamente funcional y listo para producciÃ³n!**
